@import url("https://fonts.googleapis.com/css2?family=Mona+Sans:ital,wght@0,200..900;1,200..900&display=swap");
@import "tailwindcss";

/* =========================
   THEME & GLOBAL VARIABLES
   ========================= */
:root {
  --gradient: radial-gradient(circle at 18% 18%, rgba(6,107,189,0.18) 0%, rgba(6,79,148,0.16) 46%, rgba(241,239,236,1) 100%);
  --nav-h: 72px;
  --page-bg: #f1efec;

  --ink: #2f3642;
  --ink-60: rgba(47,54,66,0.6);
  --led-size: 2.2;
  --grain-intensity: 0.06;
  --bg-contrast: 1;

  --color-default: #384050;
  --blink-duration: 0.75s;
  --font-body: "Mona Sans", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}

/* Tailwind design tokens (kept as you had) */
@theme {
  --font-sans: "Mona Sans", sans-serif;
  --color-white-50: #1f5fa3;   /* accent blue */
  --color-black-50: rgba(30,36,46,0.22);
  --color-black-100: #066bbd;  /* primary heading blue */
  --color-black-200: #044f94;
  --color-blue-50: rgba(6,107,189,0.4);
  --color-blue-100: rgba(6,107,189,0.12);
}

/* =========================
   BASE / RESET
   ========================= */
html, body {
  width: 100dvw;
  overflow-x: hidden;
  background-color: var(--page-bg);
  color: var(--ink);
  scroll-behavior: smooth;
  font-family: "Mona Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color-scheme: light;
}
section { width: 100dvw; }

/* Mobile viewport handling */
@media (max-width: 768px) {
  html, body {
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
  }

  body {
    touch-action: pan-y;
  }

  /* Ensure mobile sections don't have scroll conflicts */
  .snap-section {
    scroll-snap-align: none;
    scroll-snap-stop: normal;
  }
}

/* Snap hints (preserved and lightly tidied) */
html {
  scroll-snap-type: y proximity; /* This will be toggled by JS */
  scroll-padding-top: var(--nav-h);
  timeline-scope: --section, --main;
  scroll-behavior: auto; /* Remove smooth to let GSAP handle it */
}
main { view-timeline: --main; }

/* Allow sections to be taller than viewport and scroll naturally */
.snap-section {
  height: auto; /* Changed from 100dvh */
  min-height: 100dvh; /* Minimum full height */
  scroll-snap-align: start;
  scroll-snap-stop: always;
  view-timeline: --section;
  position: relative;
  will-change: transform;
  contain: layout;
}

/* For sections that should be exactly full height */
.snap-section.full-height-only {
  height: 100dvh;
  overflow: hidden;
}

* Disable scroll snap when GSAP is animating */
html.gsap-scrolling {
  scroll-snap-type: none;
}

/* Ensure smooth rendering during animations */
html.gsap-scrolling * {
  will-change: transform;
}

/* Improved scroll performance */
html {
  scroll-behavior: auto; /* Let GSAP handle smoothing */
}

/* Better mobile touch handling */
body {
  touch-action: pan-y;
  overscroll-behavior: none;
}

.page-shell {
  position: relative;
  z-index: 10;
  min-height: 100vh;
}

.page-main {
  position: relative;
  z-index: 5;
  min-height: 100vh;
}

.page-main.is-blinking {
  animation: blink var(--blink-duration, 0.75s) ease-in-out both;
}

@keyframes blink {
  0% {
    filter: blur(.6rem) contrast(4);
    opacity: 0;
    visibility: hidden;
  }
  48% {
    filter: blur(.5rem) contrast(3.2);
    opacity: 0;
    visibility: hidden;
  }
  55% {
    filter: blur(0.08rem) contrast(1.1);
    opacity: 1;
    visibility: visible;
  }
  100% {
    filter: blur(0) contrast(1);
    opacity: 1;
    visibility: visible;
  }
}

@keyframes horizontal-scroll {
  0% { transform: translate3d(100%,0,0); }
  50% { transform: none; }
  100%{ transform: translate3d(-100%,0,0); }
}
@keyframes backwards-scroll {
  0% { transform: translate3d(0,-100%,0); }
  50%{ transform: none; }
  100%{ transform: translate3d(0,100%,0); }
}
@keyframes zoom-scroll {
  0% { filter: blur(5rem); transform: scale(0);   opacity:0; visibility:hidden; }
  50%{ filter: blur(0);   transform: none;        opacity:1; visibility:visible; }
  100%{ filter: blur(3rem); transform: scale(1.5); opacity:0; visibility:hidden; }
}
.snap-section[data-effect="horizontal"] > .snap-content{ animation-name: horizontal-scroll; }
.snap-section[data-effect="backwards"]  > .snap-content{ animation-name: backwards-scroll; }
.snap-section[data-effect="zoom"]       > .snap-content{ animation-name: zoom-scroll; }
.snap-section.flow { height: auto; min-height: 100dvh; }
.snap-section.flow > .snap-content { position: static; padding-top: 0; animation: none; overflow: visible; }

/* =========================
   BACKGROUND LAYERS (NEW)
   ========================= */
.bg-layers {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  isolation: isolate;
  background: var(--gradient);
  filter: contrast(var(--bg-contrast));
}

/* Optional WebGL canvas */
#bg-webgl {
  position: absolute;
  inset: 0;
  width: 100%; height: 100%;
  display: block;
  mix-blend-mode: normal;
}

/* Video fallback / background */
.bg-video {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

/* Grain film layer */
.bg-grain {
  position: absolute;
  inset: -50px;
  background-image:
    radial-gradient(1px 1px at 10% 20%, rgba(0,0,0,.12), transparent 60%),
    radial-gradient(1px 1px at 50% 80%, rgba(0,0,0,.10), transparent 60%),
    radial-gradient(1px 1px at 80% 30%, rgba(0,0,0,.08), transparent 60%);
  background-repeat: repeat;
  background-size: 160px 160px, 220px 220px, 140px 140px;
  mix-blend-mode: multiply;
  opacity: calc(var(--grain-intensity) + 0.04);
  animation: grainMove 6s steps(2,end) infinite;
}
@keyframes grainMove {
  0% { transform: translate3d(0,0,0); }
  20%{ transform: translate3d(-10px,  6px,0); }
  40%{ transform: translate3d(  5px,-12px,0); }
  60%{ transform: translate3d( 12px,  4px,0); }
  80%{ transform: translate3d(-6px,   8px,0); }
  100%{transform: translate3d(0,0,0); }
}

/* LED / dot matrix overlay */
.bg-led {
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(circle at center, rgba(255,255,255,0.08) 25%, transparent 26%);
  background-size: calc(var(--led-size) * 1px) calc(var(--led-size) * 1px);
  mix-blend-mode: soft-light;
  opacity: 0.4;
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce) {
  .bg-grain { animation: none; opacity: 0.06; }
}

/* =========================
   UTILITIES
   ========================= */
@layer utilities {
  .flex-center { @apply flex justify-center items-center; }
  .flex-col-center { @apply flex flex-col justify-center items-center; }
}

/* =========================
   COMPONENT LAYER
   ========================= */
@layer components {
  .padding-x { @apply px-5 md:px-10; }
  .padding-x-lg { @apply px-5 md:px-20; }
  .section-padding { @apply px-5 md:px-10 md:mt-40 mt-20; }
  .mt-responsive { @apply xl:mt-20 md:mt-0 mt-40; }

  /* Grids */
  .grid-base   { @apply grid grid-cols-1; }
  .grid-2-cols { @apply grid grid-cols-1 md:grid-cols-2 gap-6; }
  .grid-3-cols { @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6; }
  .grid-3-cols-md-tight { @apply grid grid-cols-1 md:grid-cols-3 gap-5 md:gap-0; }
  .grid-4-cols { @apply grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-7; }
  .grid-12-cols{ @apply grid grid-cols-1 xl:grid-cols-12 gap-10; }

  /* Hero */
  .hero-layout { @apply relative z-10 xl:mt-12 mt-20 md:h-dvh h-[80vh] flex xl:items-center items-start justify-center; }
  .hero-text {
    @apply flex flex-col justify-center md:text-[60px] text-[30px] font-semibold relative z-10 pointer-events-none;
  }
  .hero-badge { @apply bg-white/10 backdrop-blur-md text-white py-2 px-4 rounded-full w-fit text-sm md:text-base text-nowrap border border-white/20; }
  .hero-3d-layout {
    position: relative;
    width: clamp(320px, 50vw, 640px);
    min-height: clamp(340px, 62vh, 610px);
    margin-left: clamp(-40rem, -38vw, -20rem);
    margin-right: auto;
    margin-top: clamp(1rem, 3vw, 3rem);
    display: flex;
    align-items: center;
    justify-content: flex-start;
    transform: translateX(-14vw);
    pointer-events: none;
    z-index: 30;
  }
  .hero-animation {
    position: relative;
    width: 100%;
    height: 100%;
    min-height: inherit;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
    z-index: 1;
  }

  @media (max-width: 1024px) {
    .hero-3d-layout {
      margin-inline: auto;
      margin-top: clamp(1.8rem, 7vw, 3.5rem);
      margin-left: 0;
      width: clamp(280px, 80vw, 540px);
      justify-content: center;
      transform: translateX(0);
    }
  }

  .hero-animation__svg {
    width: min(760px, 95%);
    height: auto;
    display: block;
    filter: drop-shadow(0 24px 48px rgba(6, 79, 148, 0.14));
    transform: translate3d(0, 0, 0);
  }

  .hero-animation__svg--rings {
    opacity: 0.58;
    mix-blend-mode: multiply;
  }

  .hero-rings {
    filter: saturate(0.82);
  }

  .hero-text p {
    color: rgba(12, 22, 38, 0.96);
  }

  .hero-socials {
    margin: clamp(3rem, 5vw, 4rem) 0 0 clamp(2.5rem, 7vw, 8.5rem);
    display: flex;
    flex-direction: row;
    gap: clamp(1.1rem, 4vw, 1.8rem);
    justify-content: flex-start;
    pointer-events: auto;
  }

  .hero-social-button {
    width: clamp(44px, 4vw, 58px);
    height: clamp(44px, 4vw, 58px);
    border-radius: 0.9rem;
    border: 1px solid rgba(13, 76, 125, 0.55);
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(140, 183, 232, 0.14), rgba(241, 239, 236, 0.1));
    box-shadow: 0 18px 36px rgba(13, 76, 125, 0.18);
    backdrop-filter: blur(6px);
    transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease, background 0.25s ease;
  }

  .hero-social-button:hover,
  .hero-social-button:focus-visible {
    border-color: rgba(13, 76, 125, 0.75);
    box-shadow: 0 24px 48px rgba(13, 76, 125, 0.22);
    background: linear-gradient(135deg, rgba(126, 174, 226, 0.22), rgba(241, 239, 236, 0.12));
    transform: translateY(-3px);
  }

  .hero-social-icon {
    width: clamp(18px, 1.8vw, 22px);
    height: clamp(18px, 1.8vw, 22px);
    fill: rgba(26, 48, 86, 0.88);
    transition: fill 0.25s ease;
  }

  .hero-social-button:hover .hero-social-icon,
  .hero-social-button:focus-visible .hero-social-icon {
    fill: rgba(6, 79, 148, 1);
  }

  @media (max-width: 1024px) {
    .hero-socials {
      margin: clamp(2.2rem, 6vw, 3.6rem) 0 0 clamp(1.25rem, 5vw, 2rem);
      justify-content: flex-start;
      gap: clamp(0.95rem, 4.5vw, 1.4rem);
    }
  }

  @media (max-width: 640px) {
    .hero-socials {
      margin: clamp(2rem, 8vw, 3rem) 0 0 clamp(1rem, 4vw, 1.5rem);
      gap: clamp(0.8rem, 5vw, 1.2rem);
    }
  }

  .experience-isolated {
    position: relative;
    z-index: 20;
  }

  /* Navbar */
  .navbar {
    position: fixed;
    top: clamp(1rem, 3vw, 2.25rem);
    left: 0;
    width: 100%;
    padding: 0 clamp(1.5rem, 4vw, 3rem);
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 100;
    pointer-events: none;
    transition: transform 0.3s ease-in-out;
  }

  /* Mobile navbar hide/show behavior */
  .navbar--hidden {
    transform: translateY(-100%);
  }

  .navbar--visible {
    transform: translateY(0);
  }

  .navbar-title {
    pointer-events: auto;
    font-family: var(--font-body);
    font-size: clamp(2.25rem, 6vw, 4rem);
    font-weight: 700;
    letter-spacing: .12em;
    text-transform: uppercase;
    color: var(--color-black-100);
    transition: transform .4s ease, opacity .4s ease;
    display: flex;
    align-items: center;
    gap: clamp(0.55rem, 2vw, 1.6rem);
    margin-left: clamp(1rem, 6vw, 3.75rem);
  }

  .navbar-title__text {
    display: inline-flex;
    align-items: center;
    color: var(--color-black-100);
  }

  .navbar-title__counter {
    font-size: clamp(1rem, 2.2vw, 1.45rem);
    font-weight: 600;
    letter-spacing: .18em;
    color: rgba(244,247,255,0.55);
    text-transform: uppercase;
  }

  .mini-nav__item {
    font-family: var(--font-body);
    font-size: .6rem;
    letter-spacing: .18em;
    text-transform: uppercase;
    background: transparent;
    border: none;
    color: rgba(6, 79, 148, 0.55);
    padding: .2rem .45rem .2rem .65rem;
    cursor: pointer;
    transition: opacity .2s ease, transform .2s ease, color .2s ease;
    opacity: .65;
  }

  .mini-nav__item:hover,
  .mini-nav__item:focus-visible {
    opacity: 1;
    transform: translateX(-2px);
    color: var(--color-black-100);
  }

  .mini-nav__item.is-active {
    opacity: 1;
    color: var(--color-black-100);
  }

  @media (max-width: 640px) {
    .navbar {
      padding-inline: clamp(1rem, 5vw, 1.5rem);
      top: clamp(0.75rem, 2vw, 1.5rem);
    }

    .navbar-title {
      font-size: clamp(1.6rem, 8vw, 2.8rem);
      letter-spacing: .08em;
      margin-left: clamp(0.5rem, 3vw, 1.5rem);
    }

    .mini-nav {
      gap: .2rem;
    }

    .mini-nav__item {
      font-size: .55rem;
      padding: .15rem .35rem .15rem .5rem;
    }
  }

  /* Showcase / Work index */
  .work-section {
    @apply w-full md:px-20 px-5 min-h-screen;
    scroll-snap-align: start;
    position: relative;
    padding-top: clamp(7rem, 13vw, 13rem);
  }

  .about-section {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: clamp(8rem, 12vw, 10rem) clamp(1.5rem, 6vw, 5rem) clamp(4rem, 7vw, 6rem);
  }

  .about-title {
    font-family: var(--font-body);
    font-size: clamp(1.3rem, 2.5vw, 1.9rem);
    font-weight: 700;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    color: rgba(6, 79, 148, 0.75);
    text-align: center;
  }

  .about-inner {
    max-width: clamp(46rem, 72vw, 75rem);
    display: flex;
    flex-direction: column;
    gap: clamp(1.15rem, 2.6vw, 2.1rem);
    align-items: center;
  }

  .about-columns {
    display: grid;
    grid-template-columns: 1fr;
    gap: clamp(1.4rem, 3vw, 2.1rem);
  }

  @media (min-width: 992px) {
    .about-columns {
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: clamp(1.8rem, 4vw, 2.6rem);
    }
  }

  .about-copy {
    display: flex;
    flex-direction: column;
    gap: clamp(0.75rem, 1.8vw, 1.2rem);
    font-size: clamp(0.88rem, 1.6vw, 1rem);
    line-height: 1.55;
    color: rgba(47, 54, 66, 0.9);
  }

  .work-count-floating {
    position: absolute;
    top: clamp(4.5rem, 12vw, 7.5rem);
    left: clamp(1.25rem, 5vw, 2.5rem);
    display: inline-flex;
    align-items: baseline;
    gap: clamp(0.4rem, 1.2vw, 0.7rem);
    font-family: var(--font-body);
    font-weight: 600;
    font-size: clamp(1.4rem, 3vw, 2.45rem);
    letter-spacing: 0.22em;
    text-transform: uppercase;
    color: var(--color-black-100);
    pointer-events: none;
  }

  .work-count-floating .work-divider {
    opacity: 0.35;
    font-size: clamp(1.2rem, 2.3vw, 2rem);
  }

  .work-count-floating .work-total {
    opacity: 0.35;
    font-size: clamp(1.2rem, 2.3vw, 2rem);
  }

  .ref-wrap { @apply min-h-screen md:px-20 px-5; scroll-snap-align: start; }
  .ref-body {
    @apply grid gap-6 md:gap-8 lg:gap-12;
    grid-template-columns: 1fr;
  }
  @media (min-width: 768px){
    .ref-body { grid-template-columns: 1fr; }
  }
  @media (min-width: 1024px){
    .ref-body { grid-template-columns: 6fr 5fr; }
  }

  /* ====== SELECT PROJECTS LIST (CHANGED) ====== */
  .ref-list {
    list-style: none;
    margin: 0; padding: 0;
    display: grid;
    grid-template-columns: 1fr;       /* 1 column mobile */
    gap: 8px 20px;
  }
  @media (min-width: 640px){
    .ref-list {
      grid-template-columns: 1fr 1fr; /* two columns small tablet+ */
      gap: 10px 30px;
    }
  }
  @media (min-width: 768px){
    .ref-list {
      grid-template-columns: 1fr 1fr; /* two columns tablet+ */
      gap: 12px 40px;
    }
  }

  .ref-list li {
    min-width: 0;
    height: auto;
    display: grid;
    grid-template-columns: 2rem 1fr;   /* number + title */
    column-gap: .35rem;
    align-items: center;
    padding: 0.45rem 0.75rem;
    border-radius: 0.85rem;
    border: 1px solid transparent;
    transition: opacity .2s ease, filter .2s ease, border-color .3s ease, box-shadow .3s ease, transform .3s ease;
  }
  .ref-list .num {
    font-size: .85rem;
    opacity: .6;
  }

  /* black + bold; underline is hidden until hover/active */
  .ref-link {
    display: block;
    max-width: 100%;
    white-space: nowrap;
    overflow-x: hidden;
    overflow-y: auto;
    text-overflow: ellipsis;
    line-height: 26px;
    font-weight: 700;                           /* bold titles */
    color: var(--color-default);
    text-decoration: underline;
    text-decoration-color: transparent;         /* hide underline initially */
    text-underline-offset: 2px;
    transition: color .25s ease, text-decoration-color .18s ease;
  }
  .ref-link:hover {
    text-decoration-color: var(--color-white-50); /* blue underline on hover */
    color: var(--color-default);
  }

  /* keep one active row underlined (blue) */
  .ref-list li.is-active .ref-link {
    text-decoration-color: var(--color-white-50);
  }

  .ref-list li:is(:hover, :focus-within, .is-active) {
    border-color: rgba(13, 76, 125, 0.55);
    box-shadow: 0 12px 26px rgba(13, 76, 125, 0.12);
    background: rgba(13, 76, 125, 0.05);
    transform: translateY(-2px);
  }

  /* muffle others while pointer in list */
  .ref-list[data-hover="true"] li { opacity: .35; filter: blur(.15px) saturate(.85); }
  .ref-list[data-hover="true"] li.is-active { opacity: 1; filter: none; }

  .ref-media { position: sticky; align-self: start; top: 8rem; }
  .ref-media-frame {
    @apply w-full rounded-xl border border-white/10 overflow-hidden;
    aspect-ratio: auto;
    background-color: transparent;
  }

  @media (max-width: 1023px) {
    .ref-media {
      position: static;
      margin-top: 2rem;
    }
  }
  .ref-media-placeholder {
    @apply w-full h-full flex items-center justify-center text-[color:var(--color-black-50)];
    background: repeating-linear-gradient(45deg,
      rgba(255,255,255,0.14), rgba(255,255,255,0.14) 8px,
      rgba(255,255,255,0.05) 8px, rgba(255,255,255,0.05) 16px);
  }

  .code-noise-panel {
    position: relative;
    width: 100%;
    height: clamp(420px, 50vh, 600px);
    border-radius: 0.85rem;
    overflow: hidden;
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.6);
    box-shadow: none;
    transition: border-color 0.35s ease, box-shadow 0.35s ease, transform 0.35s ease;
    display: flex;
    align-items: stretch;
  }
  .code-noise-panel::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    border: 1px solid rgba(13, 76, 125, 0.45);
    opacity: 0;
    transition: opacity 0.35s ease;
    pointer-events: none;
  }

  .code-noise-panel__content {
    position: relative;
    z-index: 2;
    width: 100%;
    height: 100%;
    padding: clamp(1.6rem, 4vw, 2.8rem);
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    gap: clamp(1rem, 2vw, 1.4rem);
    color: var(--color-default);
    font-family: var(--font-body);
    opacity: 0;
    transform: translateY(16px);
    transition: opacity 0.35s ease, transform 0.35s ease;
    pointer-events: none;
    background: transparent;
    backdrop-filter: none;
    overflow-y: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .code-noise-panel__content::-webkit-scrollbar {
    display: none;
  }

  .code-noise-panel__inner {
    display: flex;
    flex-direction: column;
    gap: clamp(0.75rem, 1.6vw, 1.25rem);
  }

  .code-noise-panel__label {
    letter-spacing: 0.26em;
    font-size: 0.6rem;
    text-transform: uppercase;
    color: rgba(6, 79, 148, 0.55);
  }

  .code-noise-panel__title {
    font-size: clamp(1.2rem, 2.4vw, 1.75rem);
    font-weight: 700;
    color: var(--color-black-100);
    letter-spacing: 0.05em;
  }

  .code-noise-panel__bullets {
    list-style: disc;
    padding-left: 1.25rem;
    display: flex;
    flex-direction: column;
    gap: 0.65rem;
    color: var(--color-default);
  }

  .code-noise-panel__bullets li {
    font-size: clamp(0.85rem, 1.7vw, 1.05rem);
    line-height: 1.55;
  }

  .code-noise-panel__bullets li::marker {
    color: rgba(6, 107, 189, 0.75);
  }

  .code-noise-panel__stack {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .code-noise-panel__stack p {
    font-size: 0.7rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: rgba(6, 79, 148, 0.55);
  }

  .code-noise-panel__stack ul {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem 0.75rem;
    color: var(--color-black-100);
  }

  .code-noise-panel__stack li {
    font-size: 0.78rem;
    padding: 0.28rem 0.6rem;
    border-radius: 999px;
    background-color: rgba(6, 107, 189, 0.08);
    border: 1px solid rgba(6, 107, 189, 0.22);
    color: rgba(6, 79, 148, 0.85);
    backdrop-filter: blur(2px);
  }

  .code-noise-panel__placeholder {
    font-size: clamp(0.95rem, 1.7vw, 1.08rem);
    color: rgba(47, 54, 66, 0.58);
  }

  .code-noise-panel.is-active .code-noise-panel__content {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }

  .code-noise-panel:hover {
    border-color: rgba(13, 76, 125, 0.45);
  }

  .code-noise-panel.is-active,
  .ref-media-frame:hover .code-noise-panel {
    border-color: rgba(13, 76, 125, 0.7);
    box-shadow: 0 0 0 2px rgba(102, 224, 255, 0.22), 0 24px 48px rgba(13, 76, 125, 0.18);
  }

  .code-noise-panel.is-active::after,
  .ref-media-frame:hover .code-noise-panel::after {
    opacity: 1;
    border-color: rgba(13, 76, 125, 0.65);
  }

  /* App Showcase (kept) */
  .app-showcase { @apply w-full mt-20 px-5 md:px-20 py-10 md:py-20 flex items-center justify-center; }
  .app-showcase .showcaselayout { @apply flex xl:flex-row flex-col gap-10 justify-between; }
  .app-showcase .first-project-wrapper { @apply h-full flex flex-col justify-between xl:w-[60%]; }
  .app-showcase .first-project-wrapper .image-wrapper { @apply xl:h-[70vh] md:h-[50vh] h-96 relative; }
  .app-showcase .first-project-wrapper .image-wrapper img { @apply w-full h-full object-cover rounded-xl absolute inset-0; }
  .app-showcase .first-project-wrapper .text-content { @apply space-y-5 mt-5; }
  .app-showcase .first-project-wrapper .text-content .badges { @apply flex gap-2 mb-4; }
  .app-showcase .first-project-wrapper .text-content h2 { @apply text-2xl md:text-3xl lg:text-4xl font-bold; }
  .app-showcase .project-list-wrapper { @apply flex md:flex-row flex-col xl:flex-col gap-10 xl:w-[40%]; }
  .app-showcase .project-list-wrapper .image-wrapper { @apply xl:h-[37vh] md:h-52 lg:h-72 h-64 relative rounded-xl xl:px-5 2xl:px-12 py-0; }
  .app-showcase .project-list-wrapper img { @apply w-full h-full object-contain rounded-xl; }
  .app-showcase .project-list-wrapper h2 { @apply text-lg md:text-xl lg:text-2xl font-semibold mt-5; }

  /* CTA Button (kept) */
  .cta-wrapper { @apply relative z-20 cursor-pointer; }
  .cta-button {
    @apply px-4 py-4 rounded-lg bg-white/5 text-white flex justify-center items-center relative cursor-pointer overflow-hidden border border-white/10 backdrop-blur-md;
  }
  .cta-button .bg-circle {
    @apply absolute -right-10 origin-center top-1/2 -translate-y-1/2 w-[120%] h-[120%]
           group-hover:size-10 group-hover:right-10 rounded-full bg-white-50 transition-all duration-500;
  }
  .cta-button .text {
    @apply uppercase md:text-lg text-white transition-all duration-500 group-hover:text-white-50
           group-hover:-translate-x-5 xl:translate-x-0 -translate-x-5;
  }
  .cta-button .arrow-wrapper {
    @apply group-hover:bg-white-50 size-10 rounded-full absolute right-10 top-1/2 -translate-y-1/2
           flex justify-center items-center overflow-hidden;
  }
  .cta-button .arrow-wrapper img { @apply size-5 xl:-translate-y-32 translate-y-0 animate-bounce group-hover:translate-y-0 transition-all duration-500; }

  /* Cards / Glow (kept) */
  .card { --start: 0; position: relative; z-index: 40; overflow: hidden; transition: border-color 1s ease-in-out; }
  .card::before {
    position: absolute; content: ""; inset: 50% auto auto 50%; transform: translate(-50%, -50%);
    width: 100%; height: 100%;
    border-radius: 12px; border: 2px solid transparent;
    background: radial-gradient(100% 100% at 50% 0%, rgba(12, 64, 110, 0.45) 0%, rgba(102, 224, 255, 0.25) 55%, rgba(12, 64, 110, 0) 100%);
    mask: linear-gradient(#0000, #0000),
          conic-gradient(from calc((var(--start) - 15) * 1deg), rgba(255,255,255,0.3) 0deg, rgba(255,255,255,0.9) 60deg, rgba(255,255,255,0) 100deg);
    mask-composite: intersect; mask-clip: padding-box, border-box; opacity: 0; transition: .5s ease;
  }
  .glow { pointer-events: none; position: absolute; inset: 0; filter: blur(10px) saturate(200%); }
  .card:hover::before { opacity: 1; }

  /* Timeline (Experience.jsx) */
  .timeline-logo  { @apply md:size-28 size-7 flex-none flex justify-center items-center md:-translate-y-7 md:-translate-x-5; }
  .exp-card-wrapper { @apply flex flex-col-reverse xl:flex-row xl:gap-20 gap-10 justify-between; }

  /* Experience section isolation / infinite scroll */
  #experience {
    position: relative;
    isolation: isolate;
    height: 100vh;
    overflow: hidden;
  }

  #experience .experience-scroll {
    position: relative;
    z-index: 10;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    touch-action: pan-y;
    overscroll-behavior: contain;
    scroll-behavior: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;
    padding-top: clamp(8rem, 15vh, 10rem);
    padding-bottom: clamp(5rem, 10vh, 7rem);
  }

  #experience .experience-scroll::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  #experience .timeline-content {
    position: relative;
    min-height: auto;
  }

  #experience .exp-card-wrapper {
    margin-bottom: clamp(2rem, 8vh, 4rem);
    scroll-margin-top: 2rem;
    scroll-margin-bottom: 2rem;
    will-change: transform, opacity;
  }

  #experience .timeline-card {
    will-change: transform, opacity;
  }

  #experience .timeline-content > div:last-child .exp-card-wrapper:last-child {
    margin-bottom: clamp(2rem, 8vh, 4rem);
  }

  #experience * {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }

  #experience h1,
  #experience h2,
  #experience h3,
  #experience p,
  #experience li {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }

  body.experience-active {
    overflow: hidden;
  }

  #experience .timeline-wrapper {
    position: sticky;
    top: 50%;
    transform: translateY(-50%);
    height: auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    margin-right: clamp(1.2rem, 3vw, 2.4rem);
  }

  #experience .timeline {
    background: rgba(241, 239, 236, 0.9);
    backdrop-filter: blur(8px);
    box-shadow:
      0 0 0 1px rgba(28, 28, 33, 0.1),
      0 8px 16px rgba(28, 28, 33, 0.05);
    transform-origin: bottom bottom;
    transform: scaleY(0);
    width: clamp(16px, 2vw, 24px);
    min-height: 100%;
    border-radius: 999px;
    position: relative;
  }

  #experience .gradient-line {
    background: linear-gradient(180deg, rgba(6, 79, 148, 0) 0%, rgba(6, 79, 148, 0.45) 48%, rgba(6, 79, 148, 0) 100%);
    width: clamp(2px, 0.25vw, 4px);
  }

  @media (max-width: 768px) {
    #experience .experience-scroll {
      -webkit-overflow-scrolling: touch;
    }
  }

  /* Tech grid (TechStack.jsx) */
  .tech-grid { @apply grid xl:grid-cols-5 md:grid-cols-3 grid-cols-1 xl:gap-16 md:gap-10 gap-5 mt-16; }
  .tech-card-animated-bg { @apply absolute left-0 bottom-[-100%] w-full h-full bg-white/10 group-hover:bottom-0 transition-all duration-700; }
  .tech-card-content { @apply flex flex-col md:justify-center items-center xl:gap-5 xl:h-[50vh] overflow-hidden relative z-10 group-hover:cursor-grab; }
  .tech-card-content p { @apply text-lg 2xl:text-2xl pb-5 xl:pb-0 font-semibold text-white-50 text-center; }
  .tech-icon-wrapper { @apply flex justify-center items-center w-52 h-60 relative; }

  /* Forms (Contact.jsx) */
  form label { @apply block text-white-50 mb-2; }
  form input, form textarea { @apply w-full px-4 py-4 md:text-base text-sm placeholder:text-blue-50 bg-blue-100 rounded-md; }
  form a { @apply w-full py-4 bg-white-50 text-black font-semibold rounded-md flex justify-center items-center gap-2; }
  form a img { @apply inline-block; }

  /* Footer (Footer.jsx) */
  .footer { @apply my-10 md:mt-20 mt-10 text-white-50 px-5 md:px-20 xl:px-20 flex items-center justify-center; }
  .footer .footer-container { @apply grid grid-cols-1 md:grid-cols-3 gap-5 md:gap-0 w-full; }
  .footer p { @apply text-center md:text-start; }
  .footer .socials { @apply flex items-center justify-center gap-5; }
  .footer .socials .icon { @apply border border-white/10 bg-white/5 flex justify-center items-center rounded-xl size-10 md:size-12 cursor-pointer transition-all duration-500 hover:bg-white/20; }
  .footer .socials img { @apply inline-block; }
}

/* =========================
   HERO WORD SLIDER (kept)
   ========================= */
.slide { display: inline-block; flex-direction: column; transition: all cubic-bezier(0.71, 0.03, 0.34, 1); }
.wrapper { display: flex; flex-direction: column; animation: wordSlider 21s infinite cubic-bezier(0.9, 0.01, 0.3, 0.99); }
@keyframes wordSlider {
  0% { transform: translateY(0.5%); }
  12.5% { transform: translateY(-12.5%); }
  25% { transform: translateY(-25%); }
  37.5% { transform: translateY(-37.5%); }
  50% { transform: translateY(-50%); }
  62.5% { transform: translateY(-62.5%); }
  75% { transform: translateY(-75%); }
  87.5% { transform: translateY(-87.5%); }
}

/* =========================
   GRADIENT LINES / MARQUEE (kept)
   ========================= */
.gradient-line {
  width: 2px;
  background: linear-gradient(0deg, rgba(69,222,196,0) 0%, #62e0ff 25%, #52aeff 37.51%, #fd5c79 62.83%, #6d45ce 92.91%);
}
.gradient-edge:nth-of-type(1){ left: 0; background: linear-gradient(90deg, #000 0%, rgba(255,255,255,0) 100%); }
.gradient-edge:nth-of-type(2){ right:0; background: linear-gradient(-90deg, #000 0%, rgba(255,255,255,0) 100%); }

.marquee { width: 100dvw; overflow: hidden; position: relative; }
.marquee-box { display:flex; align-items:center; width:200%; height:100%; position:absolute; overflow:hidden; animation: marquee 60s linear infinite; }
.marquee-item { float:left; }
@keyframes marquee { 0%{ left:0; } 100%{ left:-100%; } }

/* utility */
@layer utilities {
  .text-ink { color: var(--color-default); }
}

@layer base {
  /* Site-wide default font & color for *non-heading* text */
  html, body {
    font-family: var(--font-body);
    color: var(--color-default);
  }

  /* Typical body text elements: paragraphs, list items, links, etc. */
  p, li, a, span, small, time, label, input, textarea, button,
  dd, dt, figcaption, table, th, td {
    font-family: var(--font-body);
    color: var(--color-default);
  }

  /* Make list bullets match the text color (timeline bullets too) */
  li::marker { color: var(--color-default); }

  /* If you want HEADERS / TITLES to keep their darker color, keep this override */
  h1, h2, h3, h4, h5, h6,
  .work-title, .logo, .section-title {
    color: var(--color-black-100);
    /* If you want the same font everywhere, remove the next line.
       If you want headings to use a different display font, set it here. */
    font-family: var(--font-body);
  }
}

/* Add this to your CSS file */

/* Glitch transition effects */
@keyframes glitch-anim {
  0% {
    transform: translate3d(0, 0, 0);
    filter: hue-rotate(0deg);
  }
  10% {
    transform: translate3d(-2px, 1px, 0);
    filter: hue-rotate(90deg);
  }
  20% {
    transform: translate3d(2px, -1px, 0);
    filter: hue-rotate(180deg);
  }
  30% {
    transform: translate3d(-1px, 2px, 0);
    filter: hue-rotate(270deg);
  }
  40% {
    transform: translate3d(1px, -2px, 0);
    filter: hue-rotate(180deg);
  }
  50% {
    transform: translate3d(-2px, 1px, 0);
    filter: hue-rotate(90deg);
  }
  60% {
    transform: translate3d(2px, -1px, 0);
    filter: hue-rotate(0deg);
  }
  70% {
    transform: translate3d(-1px, 1px, 0);
    filter: hue-rotate(270deg);
  }
  80% {
    transform: translate3d(1px, -1px, 0);
    filter: hue-rotate(180deg);
  }
  90% {
    transform: translate3d(-2px, 2px, 0);
    filter: hue-rotate(90deg);
  }
  100% {
    transform: translate3d(0, 0, 0);
    filter: hue-rotate(0deg);
  }
}

@keyframes digital-noise {
  0% {
    background-position: 0% 0%;
    opacity: 0.1;
  }
  10% {
    background-position: -5% 5%;
    opacity: 0.2;
  }
  20% {
    background-position: 5% -5%;
    opacity: 0.1;
  }
  30% {
    background-position: -10% 10%;
    opacity: 0.3;
  }
  40% {
    background-position: 10% -10%;
    opacity: 0.1;
  }
  50% {
    background-position: -15% 15%;
    opacity: 0.2;
  }
  60% {
    background-position: 15% -15%;
    opacity: 0.1;
  }
  70% {
    background-position: -10% 10%;
    opacity: 0.2;
  }
  80% {
    background-position: 5% -5%;
    opacity: 0.1;
  }
  90% {
    background-position: -5% 5%;
    opacity: 0.2;
  }
  100% {
    background-position: 0% 0%;
    opacity: 0;
  }
}

@keyframes scanlines {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100vh);
  }
}

/* Glitch overlay */
.glitch-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0;
  background: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(255, 0, 0, 0.03) 2px,
      rgba(255, 0, 0, 0.03) 4px
    ),
    repeating-linear-gradient(
      90deg,
      rgba(0, 255, 0, 0.02) 0px,
      rgba(0, 255, 0, 0.02) 1px,
      transparent 1px,
      transparent 2px
    ),
    radial-gradient(circle at center, rgba(255,255,255,0.08) 0%, transparent 65%);
}

.glitch-overlay::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: rgba(0, 255, 255, 0.8);
  box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
  animation: scanlines 0.9s linear;
}

.glitch-overlay::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: 
    radial-gradient(circle at 20% 20%, rgba(255, 0, 0, 0.16) 0%, transparent 55%),
    radial-gradient(circle at 80% 80%, rgba(0, 255, 0, 0.16) 0%, transparent 55%),
    radial-gradient(circle at 40% 60%, rgba(0, 0, 255, 0.13) 0%, transparent 55%);
  animation: digital-noise 1.1s ease-out;
}

/* Section states */
.snap-section {
  transition: all 0.1s ease-out;
}

.snap-section.glitching {
  animation: glitch-anim 0.9s steps(2, end);
}

.snap-section.transitioning-out {
  opacity: 0;
  transform: scale(0.98) translateY(-10px);
  filter: blur(1px);
}

.snap-section.transitioning-in {
  opacity: 0;
  transform: scale(1.02) translateY(10px);
  filter: blur(1px);
}

/* Content reveal animations for new sections */
@keyframes reveal-content {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0.98);
    filter: blur(2px);
  }
  50% {
    opacity: 0.5;
    transform: translateY(10px) scale(0.99);
    filter: blur(1px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}

.section-content {
  animation: reveal-content 0.6s ease-out;
}

/* RGB split effect for text during transitions */
@keyframes rgb-split {
  0% {
    text-shadow: 
      -2px 0 red,
      2px 0 cyan;
  }
  25% {
    text-shadow: 
      -1px 0 red,
      1px 0 cyan;
  }
  50% {
    text-shadow: 
      -3px 0 red,
      3px 0 cyan;
  }
  75% {
    text-shadow: 
      -1px 0 red,
      1px 0 cyan;
  }
  100% {
    text-shadow: none;
  }
}

.glitch-text {
  animation: rgb-split 1.2s ease-in-out;
}

[data-glitch-content] {
  opacity: 0;
  transform: translateY(14px);
  filter: blur(4px);
  will-change: opacity, transform, filter;
  pointer-events: none;
}

  /* Horizontal Experience Timeline Styles */
  .horizontal-experience-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1.8rem;
    height: 100vh;
    padding: 6rem 2rem 2.5rem;
    position: relative;
    max-width: 100vw;
    overflow: hidden;
  }

  .timeline-shell {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 1200px;
    margin-top: 1.2rem;
  }

  .horizontal-timeline {
    flex: 1;
    width: 100%;
    max-width: 1200px;
    height: 160px;
    position: relative;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    padding: 20px 0;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .horizontal-timeline::-webkit-scrollbar {
    display: none;
  }

  .timeline-track {
    position: relative;
    height: 100%;
    min-width: max-content;
    display: flex;
    align-items: center;
  }

  .timeline-line {
    position: absolute;
    top: 50%;
    height: 3px;
    background: linear-gradient(
      90deg,
      rgba(6, 107, 189, 0.2) 0%,
      rgba(6, 107, 189, 0.6) 50%,
      rgba(6, 107, 189, 0.2) 100%
    );
    border-radius: 2px;
    transform: translateY(-50%);
  }

  .timeline-nodes {
    display: flex;
    align-items: center;
    gap: 200px;
    padding: 0 100px;
    position: relative;
    z-index: 2;
  }

  .timeline-node-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.4rem;
  }

  .node-date {
    font-size: 0.7rem;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: var(--color-default);
    opacity: 0.75;
  }

  .timeline-node {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
  }

  .timeline-node:hover {
    transform: translateY(-5px);
  }

  .timeline-node.active {
    transform: translateY(-8px);
  }

  .node-circle {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: rgba(241, 239, 236, 0.9);
    border: 3px solid rgba(6, 107, 189, 0.3);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    backdrop-filter: blur(8px);
    box-shadow: 0 4px 16px rgba(6, 107, 189, 0.15);
    overflow: hidden;
  }

  .timeline-node:hover .node-circle,
  .timeline-node.active .node-circle {
    border-color: rgba(6, 107, 189, 0.8);
    box-shadow: 0 8px 24px rgba(6, 107, 189, 0.25);
    background: rgba(255, 255, 255, 0.95);
  }

  .node-logo {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50%;
  }

  .node-label {
    margin-top: 8px;
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--color-black-100);
    text-align: center;
    min-width: 80px;
    line-height: 1.2;
    opacity: 0.7;
    transition: opacity 0.3s ease;
  }

  .timeline-node:hover .node-label,
  .timeline-node.active .node-label {
    opacity: 1;
  }

  .experience-info {
    position: absolute;
    top: calc(50% + 110px);
    transform: translate(-50%, 0px);
    width: 360px;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: 0.6rem;
    color: var(--color-default);
    opacity: 0;
    animation: experienceInfoSlideUp 0.4s cubic-bezier(0.23, 1, 0.32, 1) forwards;
    text-align: left;
  }

  .experience-summary {
    position: absolute;
    top: calc(50% - 220px);
    transform: translate(-50%, 0px);
    width: clamp(280px, 28vw, 380px);
    padding: clamp(0.8rem, 1.5vw, 1.2rem);
    display: flex;
    flex-direction: column;
    gap: clamp(0.4rem, 1vw, 0.6rem);
    color: var(--color-default);
    background: transparent;
    border: 1px solid rgba(13, 76, 125, 0.45);
    border-radius: 0.85rem;
    box-shadow: 0 0 0 2px rgba(102, 224, 255, 0.22), 0 24px 48px rgba(13, 76, 125, 0.18);
    backdrop-filter: blur(18px);
    opacity: 0;
    animation: experienceSummarySlideDown 0.4s cubic-bezier(0.23, 1, 0.32, 1) forwards;
  }

  .experience-summary__banner {
    width: 100%;
    height: clamp(40px, 6vw, 60px);
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid rgba(13, 76, 125, 0.32);
    background: rgba(6, 79, 148, 0.05);
  }

  .experience-summary__banner img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    background: rgba(255,255,255,0.6);
  }

  .experience-summary p {
    font-size: 0.82rem;
    line-height: 1.5;
    color: var(--color-default);
    margin: 0;
  }

  @keyframes experienceInfoSlideUp {
    0% {
      opacity: 0;
      transform: translate(-50%, -110px) scale(0.1);
      filter: blur(2px);
    }
    30% {
      opacity: 0.4;
      transform: translate(-50%, -70px) scale(0.5);
      filter: blur(1px);
    }
    60% {
      opacity: 0.8;
      transform: translate(-50%, -30px) scale(0.8);
      filter: blur(0px);
    }
    80% {
      opacity: 0.9;
      transform: translate(-50%, -8px) scale(0.95);
      filter: blur(0px) hue-rotate(90deg);
    }
    90% {
      opacity: 1;
      transform: translate(-50%, -2px) scale(1.02);
      filter: blur(0px) hue-rotate(180deg);
    }
    100% {
      opacity: 1;
      transform: translate(-50%, 0px) scale(1);
      filter: blur(0px) hue-rotate(0deg);
    }
  }

  @keyframes experienceSummarySlideDown {
    0% {
      opacity: 0;
      transform: translate(-50%, 220px) scale(0.1);
      filter: blur(2px);
    }
    30% {
      opacity: 0.4;
      transform: translate(-50%, 140px) scale(0.5);
      filter: blur(1px);
    }
    60% {
      opacity: 0.8;
      transform: translate(-50%, 60px) scale(0.8);
      filter: blur(0px);
    }
    80% {
      opacity: 0.9;
      transform: translate(-50%, 20px) scale(0.95);
      filter: blur(0px) hue-rotate(90deg);
    }
    90% {
      opacity: 1;
      transform: translate(-50%, 5px) scale(1.02);
      filter: blur(0px) hue-rotate(180deg);
    }
    100% {
      opacity: 1;
      transform: translate(-50%, 0px) scale(1);
      filter: blur(0px) hue-rotate(0deg);
    }
  }

  @keyframes experienceGlitchText {
    0% {
      text-shadow: none;
    }
    10% {
      text-shadow:
        -2px 0 rgba(255, 0, 255, 0.7),
        2px 0 rgba(0, 255, 255, 0.7);
    }
    20% {
      text-shadow:
        -1px 0 rgba(255, 0, 255, 0.5),
        1px 0 rgba(0, 255, 255, 0.5);
    }
    30% {
      text-shadow:
        -3px 0 rgba(255, 0, 255, 0.8),
        3px 0 rgba(0, 255, 255, 0.8);
    }
    40% {
      text-shadow: none;
    }
    60% {
      text-shadow:
        -1px 0 rgba(255, 0, 255, 0.6),
        1px 0 rgba(0, 255, 255, 0.6);
    }
    80% {
      text-shadow: none;
    }
    100% {
      text-shadow: none;
    }
  }

  /* Apply glitch effect to experience text elements */
  .experience-info h2,
  .experience-info-company,
  .experience-info-date,
  .experience-summary p {
    animation: experienceGlitchText 1.2s ease-in-out 0.3s;
  }

  .experience-info-header {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: 1rem;
  }

  .experience-info-meta h2 {
    font-size: 1.08rem;
    font-weight: 600;
    color: var(--color-black-100);
    margin: 0 0 0.1rem 0;
  }

  .experience-info-company {
    font-size: 0.84rem;
    color: var(--color-white-50);
    margin: 0;
  }

  .experience-info-date {
    font-size: 0.74rem;
    color: var(--color-default);
    opacity: 0.65;
    margin: 0;
    min-width: max-content;
  }

  .experience-info-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.45rem;
    font-size: 0.82rem;
  }

  .experience-info-list li {
    position: relative;
    padding-left: 1.1rem;
    line-height: 1.28;
  }

  .experience-info-list li::before {
    content: "→";
    position: absolute;
    left: 0;
    color: var(--color-white-50);
    font-weight: 600;
    font-size: 0.76rem;
  }

  .progress-indicator {
    position: absolute;
    bottom: 2.4rem;
    right: 2.4rem;
    font-size: 0.85rem;
    color: var(--color-default);
    opacity: 0.7;
    font-weight: 500;
  }

  @media (max-width: 768px) {
    .horizontal-experience-container {
      padding: 4rem 1.25rem 2rem;
      gap: 1.8rem;
    }

    .timeline-shell {
      margin-top: 1.25rem;
    }

    .horizontal-timeline {
      height: 140px;
    }

    .timeline-nodes {
      gap: 150px;
      padding: 0 72px;
    }

    .node-circle {
      width: 64px;
      height: 64px;
    }

    .node-date {
      font-size: 0.62rem;
      letter-spacing: 0.08em;
    }

    .experience-info {
      width: min(85vw, 320px);
      gap: 0.45rem;
    }

    .experience-summary {
      width: min(86vw, 320px);
      top: calc(50% - 210px);
      padding: clamp(0.6rem, 2vw, 1rem);
      gap: 0.3rem;
    }

    .experience-summary__banner {
      height: clamp(36px, 10vw, 54px);
    }

    .experience-info-header {
      gap: 0.5rem;
    }

    .experience-info-meta h2 {
      font-size: 0.86rem;
    }

    .experience-info-company {
      font-size: 0.74rem;
    }

    .experience-info-date {
      font-size: 0.64rem;
    }

    .experience-info-list li {
      font-size: 0.76rem;
      padding-left: 0.9rem;
    }

    .progress-indicator {
      bottom: 1.5rem;
      right: 1.5rem;
    }
  }
  .mini-nav {
    pointer-events: auto;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: .35rem;
  }

/* =========================
   COMPREHENSIVE MOBILE FIXES
   ========================= */
@media (max-width: 768px) {
  /* Prevent content from going behind navbar */
  .work-section {
    padding-top: clamp(5rem, 10vw, 8rem);
  }

  /* Better mobile spacing for hero */
  .hero-layout {
    margin-top: clamp(1rem, 4vw, 2rem);
  }

  /* Ensure mobile nav is always accessible */
  .navbar {
    z-index: 999;
  }

  /* Better mobile text sizing */
  .hero-text {
    font-size: clamp(24px, 6vw, 32px);
  }

  /* Mobile-friendly project panels */
  .code-noise-panel {
    height: clamp(300px, 40vh, 400px);
  }

  /* Mobile scroll improvements */
  .snap-section {
    min-height: auto;
    height: auto;
  }
}
